{"version":3,"file":"bundle.js","sources":["../../src/dom/domUtils.ts","../../src/dom/dom.ts","../../src/ui/select/Select.ts","../../src/index.ts"],"sourcesContent":["export function createElement(html: string) : HTMLCollection {\n    const wrap:HTMLElement = document.createElement('div');\n    wrap.innerHTML = html;\n    return wrap.children\n}\n","import { createElement } from \"./domUtils\";\n\nexport class Dom {\n    ele: HTMLElement\n    nodes: Array<HTMLElement | Element>\n    constructor(element: string\n        | HTMLElement\n        | Element\n        | Dom\n        | HTMLCollection) {\n        if (element instanceof Dom) {\n            return element;\n        }\n        var nodes: HTMLCollection;\n        if (typeof element === 'string') {\n            const reg: RegExp = /^</;\n            if (reg.test(element)) {\n                nodes = createElement(element);\n            } else {\n                nodes = document.getElementsByClassName(element);\n            }\n        }\n        if (element instanceof HTMLCollection) {\n            nodes = element\n        }\n        if (element instanceof Element) {\n            this.nodes.push(element);\n            return;\n        }\n        for (let i = 0; i < nodes.length; i++) {\n            this.nodes.push(nodes[i])\n        }\n    }\n\n    /**\n     * get\n     */\n    public get(i: number): HTMLElement | Element {\n        return this.nodes[i];\n    }\n\n    /**\n     * on\n     */\n    public on(type: string, callback: EventListener): Dom {\n        // const { nodes } = this;\n        // for (let i = 0; i < nodes.length; i++) {\n        //     const node = nodes[i];\n        //     node.addEventListener(type, callback)\n        // }\n        this.each(node => {\n            node.addEventListener(type, callback);\n        })\n        return this\n    }\n\n    public off(type: string, callback: EventListener): Dom {\n        this.each(node => {\n            node.removeEventListener(type, callback);\n        })\n        return this;\n    }\n\n    /**\n     * each\n     */\n    public each(callback: (node: HTMLElement | Element, i?: number) => void): Dom {\n        const { nodes } = this;\n        for (let i = 0; i < nodes.length; i++) {\n            const node = nodes[i];\n            callback(node, i);\n        }\n        return this;\n    }\n\n    public children(): HTMLCollection {\n        if (this.nodes.length) {\n            const node = this.get(0);\n            return node.children;\n        }\n        const div = document.createElement('div');\n        return div.children;\n    }\n\n    public attr(name: string, value?: string | number): string | Dom {\n        if (arguments.length === 2) {\n            return this.each(node => {\n                node.setAttribute(name, `${value}`);\n            })\n        }\n        if (this.nodes.length) {\n            return this.get(0).getAttribute(name);\n        }\n        return '';\n    }\n\n    public text(text?: string): string | Dom {\n        if (arguments.length === 1) {\n            return this.each(node => {\n                node.innerHTML = text;\n            })\n        }\n        return this.nodes.length ?\n            this.get(0).innerHTML :\n            '';\n    }\n\n    public append(parent: Dom): Dom {\n        const p = parent.get(0);\n        return this.each(node => {\n            p.appendChild(node);\n        })\n    }\n\n    public remove(): Dom {\n        return this.each(node => {\n            const parent = node.parentNode;\n            parent.removeChild(node);\n        })\n    }\n\n    public css(name:string, value?:string):Dom|string {\n        if (arguments.length === 2) {\n            return this.each(node => {\n                if (node instanceof HTMLElement) {\n                    node.style[name] = value;\n                }\n            })\n        }\n        if (this.nodes.length) {\n            const htmlEles = this.filter(node => node instanceof HTMLElement);\n            const first = htmlEles[0];\n            return (<HTMLElement>first).style[name];\n        }\n        return '';\n    }\n\n    private filter(callback: (node:HTMLElement|Element) => boolean) : HTMLCollection {\n        return Array.prototype.filter.call(this.nodes, callback);\n    }\n}\n\nexport function $(element: string\n    | HTMLElement\n    | Element\n    | Dom\n    | HTMLCollection): Dom {\n    return new Dom(element)\n}","import { Dom, $ } from \"../../dom/dom\";\r\n\r\nexport class Select {\r\n    private elem: Dom;\r\n    dom: Dom;\r\n    placeholder: string;\r\n    options: Array<{\r\n        label: string,\r\n        value: string\r\n    }>;\r\n    constructor(option: {\r\n        //  选择器\r\n        elem: string,\r\n        //  占位符\r\n        placeholder?: string\r\n    }) {\r\n        const {\r\n            elem,\r\n            placeholder\r\n        } = option\r\n        this.placeholder = placeholder;\r\n        this.elem = $(elem);\r\n        this.elem.css('display', 'none');\r\n        this.render();\r\n    }\r\n\r\n    /**\r\n     * render\r\n     */\r\n    public render() {\r\n        let html = `<ul class='wui-select-body'>`;\r\n        const children = this.elem.children();\r\n        for (let i = 0; i < children.length; i++) {\r\n            const option = $(children[i]);\r\n            const value = option.attr('value');\r\n            const label = option.text();\r\n            this.options.push({\r\n                value: <string>value,\r\n                label: <string>label\r\n            })\r\n            html += `\r\n                <li class='wui-select-item'>${label}</li>\r\n            `\r\n        }\r\n        html += '</ul>';\r\n        this.dom = $(html);\r\n        this.dom.append(this.elem);\r\n    }\r\n}\r\n","import { Select } from './ui/select/Select'\n\nexport function select(option: {\n    //  选择器\n    elem: string,\n    //  占位符\n    placeholder?: string\n}): Select {\n    return new Select(option)\n}\n\nexport default {\n    select\n}\n\n\n"],"names":[],"mappings":"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"}